---
// This file would contain the complex logic for tabs and calculations.
// For a non-coder, building the full interactivity from the screenshot
// requires significant JavaScript.
import Layout from '../../../layouts/Layout.astro';
import { hobbies } from '../../../data/hobbies.json';
export function getStaticPaths() {
  const paths = [];
  const languages = ['en', 'es'];
  hobbies.forEach(hobby => {
    languages.forEach(lang => {
      paths.push({ params: { lang, hobby: hobby.id } });
    });
  });
  return paths;
}
const { lang, hobby: hobbyId } = Astro.params;
const hobby = hobbies.find(h => h.id === hobbyId);
const beginnerItems = hobby.breakdown.beginner.keyItems;
---
<Layout title={`Cost of ${hobby.name[lang]}`} lang={lang}>
  <div class="max-w-6xl mx-auto p-4">
    <div class="text-sm breadcrumbs">
      <ul>
        <li><a href={`/${lang}/`}>Home</a></li>
        <li><a>Hobbies</a></li>
        <li>{hobby.name[lang]}</li>
      </ul>
    </div>
    <h1 class="text-4xl font-bold my-4">{hobby.name[lang]} Cost Calculator</h1>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="md:col-span-2">
        {/* --- Main Calculator Area --- */}
        <div class="card bg-white shadow-xl">
          <div class="card-body">
            <div class="tabs tabs-boxed">
              <a class="tab tab-active">Beginner</a>
              <a class="tab">Intermediate</a>
              <a class="tab">Advanced</a>
            </div>
            <div class="grid grid-cols-2 gap-4 mt-4">
              <div>
                <h3 class="font-bold mb-2">Essential Equipment</h3>
                {beginnerItems.filter(i => i.category === 'essential').map(item => (
                  <div class="form-control">
                    <label class="label cursor-pointer justify-start gap-4">
                      <input type="checkbox" class="checkbox" />
                      <span class="label-text">{item.name} <span class="text-gray-400">${item.cost[0]}-${item.cost[1]}</span></span>
                    </label>
                  </div>
                ))}
              </div>
              <div>
                <h3 class="font-bold mb-2">Software & Ongoing</h3>
                 {beginnerItems.filter(i => i.category === 'software').map(item => (
                  <div class="form-control">
                   <label class="label cursor-pointer justify-start gap-4">
                      <input type="checkbox" class="checkbox" />
                      <span class="label-text">{item.name} <span class="text-gray-400">${item.cost[0]}</span></span>
                    </label>
                   </div>
                ))}
              </div>
            </div>
            <div class="bg-indigo-600 text-white rounded-lg p-6 mt-6 text-center">
              <h2 class="text-3xl font-bold">$425 - $1060</h2>
              <p>Startup: $495 - $1,220 | Per Year: $0 - $150</p>
            </div>
          </div>
        </div>
      </div>
      <div class="md:col-span-1">
         {/* --- Sidebar Area --- */}
        <div class="card bg-white shadow-xl">
          <div class="card-body">
            <h3 class="card-title">Recommended Gear</h3>
            {hobby.recommendedGear.map(gear => (
              <div class="flex gap-4 items-center mt-2">
                <img src={gear.image} alt={gear.name} class="w-16 h-16 object-cover rounded-lg" />
                <div>
                  <p class="font-bold">{gear.name}</p>
                  <p class="text-sm">{gear.desc}</p>
                  <button class="btn btn-xs btn-outline mt-1">View on Amazon</button>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>

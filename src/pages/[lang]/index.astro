---
import Layout from '../../layouts/Layout.astro';
import { hobbies } from '../../data/hobbies.json';

export function getStaticPaths() {
  const languages = ['en', 'es', 'de', 'fr', 'pt', 'ja', 'ar', 'hi'];
  return languages.map(lang => ({ params: { lang } }));
}

const { lang } = Astro.params;

const translations = {
  title: { 
    en: "Hobby Cost Calculator 2025 | Calculate Startup Costs for 50+ Hobbies", 
    es: "Calculadora de Costos de Hobbies 2025 | Calcula Costos Iniciales para 50+ Hobbies", 
    de: "Hobby-Kosten-Rechner 2025 | Berechne Startkosten für 50+ Hobbys", 
    fr: "Calculateur de Coût de Loisirs 2025 | Calculez les Coûts de Démarrage pour 50+ Loisirs", 
    pt: "Calculadora de Custos de Hobby 2025 | Calcule Custos Iniciais para 50+ Hobbies", 
    ja: "趣味の費用計算機 2025 | 50以上の趣味の開始費用を計算", 
    ar: "حاسبة تكلفة الهوايات 2025 | احسب تكاليف البدء لأكثر من 50 هواية", 
    hi: "शौक लागत कैलकुलेटर 2025 | 50+ शौक के लिए स्टार्टअप लागत की गणना करें" 
  },
  description: {
    en: "Free hobby cost calculator with currency conversion. Calculate startup costs for photography, gaming, cooking, crafts & 50+ hobbies. Get accurate budget estimates instantly.",
    es: "Calculadora gratuita de costos de hobbies con conversión de moneda. Calcula costos iniciales para fotografía, gaming, cocina, manualidades y 50+ hobbies.",
    de: "Kostenloser Hobby-Kosten-Rechner mit Währungsumrechnung. Berechne Startkosten für Fotografie, Gaming, Kochen, Basteln und 50+ Hobbys.",
    fr: "Calculateur gratuit de coût de loisirs avec conversion de devises. Calculez les coûts de démarrage pour la photographie, les jeux, la cuisine et 50+ loisirs.",
    pt: "Calculadora gratuita de custos de hobby com conversão de moeda. Calcule custos iniciais para fotografia, gaming, culinária e 50+ hobbies.",
    ja: "通貨換算付き無料趣味費用計算機。写真、ゲーム、料理、クラフトなど50以上の趣味の開始費用を計算。",
    ar: "حاسبة مجانية لتكلفة الهوايات مع تحويل العملات. احسب تكاليف البدء للتصوير والألعاب والطبخ والحرف اليدوية وأكثر من 50 هواية.",
    hi: "मुद्रा रूपांतरण के साथ मुफ्त शौक लागत कैलकुलेटर। फोटोग्राफी, गेमिंग, खाना पकाने, शिल्प और 50+ शौक के लिए स्टार्टअप लागत की गणना करें।"
  },
  hero_title: { 
    en: "Calculate Hobby Costs Instantly", 
    es: "Calcula Costos de Hobbies al Instante", 
    de: "Berechne Hobby-Kosten Sofort", 
    fr: "Calculez les Coûts de Loisirs Instantanément", 
    pt: "Calcule Custos de Hobbies Instantaneamente", 
    ja: "趣味のコストを即座に計算", 
    ar: "احسب تكاليف الهوايات فورًا", 
    hi: "शौक की लागत तुरंत कैलकुलेट करें" 
  },
  hero_subtitle: { 
    en: "Free cost calculator for 50+ hobbies with real-time currency conversion", 
    es: "Calculadora gratuita para 50+ hobbies con conversión de moneda en tiempo real", 
    de: "Kostenloser Rechner für 50+ Hobbys mit Echtzeit-Währungsumrechnung", 
    fr: "Calculateur gratuit pour 50+ loisirs avec conversion de devises en temps réel", 
    pt: "Calculadora gratuita para 50+ hobbies com conversão de moeda em tempo real", 
    ja: "リアルタイム通貨換算付き50以上の趣味の無料計算機", 
    ar: "حاسبة مجانية لأكثر من 50 هواية مع تحويل العملات في الوقت الفعلي", 
    hi: "रियल-टाइम मुद्रा रूपांतरण के साथ 50+ शौक के लिए मुफ्त कैलकुलेटर" 
  },
  popular_hobbies: { 
    en: "Popular Hobby Calculators", 
    es: "Calculadoras de Hobbies Populares", 
    de: "Beliebte Hobby-Rechner", 
    fr: "Calculateurs de Loisirs Populaires", 
    pt: "Calculadoras de Hobbies Populares", 
    ja: "人気の趣味計算機", 
    ar: "حاسبات الهوايات الشائعة", 
    hi: "लोकप्रिय शौक कैलकुलेटर" 
  },
  explore_btn: { 
    en: "Browse All Hobbies", 
    es: "Ver Todos los Hobbies", 
    de: "Alle Hobbys durchsuchen", 
    fr: "Parcourir Tous les Loisirs", 
    pt: "Ver Todos os Hobbies", 
    ja: "すべての趣味を見る", 
    ar: "تصفح جميع الهوايات", 
    hi: "सभी शौक देखें" 
  },
  features: {
    accurate: {
      en: "Accurate Cost Estimates",
      es: "Estimaciones de Costo Precisas",
      de: "Präzise Kostenschätzungen",
      fr: "Estimations de Coûts Précises",
      pt: "Estimativas de Custo Precisas",
      ja: "正確なコスト見積もり",
      ar: "تقديرات تكلفة دقيقة",
      hi: "सटीक लागत अनुमान"
    },
    currency: {
      en: "Multi-Currency Support",
      es: "Soporte Multi-Moneda",
      de: "Multi-Währungsunterstützung",
      fr: "Support Multi-Devises",
      pt: "Suporte Multi-Moeda",
      ja: "多通貨対応",
      ar: "دعم العملات المتعددة",
      hi: "मल्टी-करेंसी सपोर्ट"
    },
    free: {
      en: "Completely Free",
      es: "Completamente Gratis",
      de: "Völlig Kostenlos",
      fr: "Complètement Gratuit",
      pt: "Completamente Grátis",
      ja: "完全無料",
      ar: "مجاني بالكامل",
      hi: "पूरी तरह मुफ्त"
    }
  },
  feature_descriptions: {
    accurate: {
      en: "Get detailed cost breakdowns from beginner to expert levels",
      es: "Obtén desgloses detallados de costos desde principiante hasta experto",
      de: "Erhalten Sie detaillierte Kostenaufschlüsselungen vom Anfänger bis zum Experten",
      fr: "Obtenez des répartitions détaillées des coûts du débutant à l'expert",
      pt: "Obtenha detalhamentos de custos detalhados do iniciante ao especialista",
      ja: "初心者からエキスパートレベルまでの詳細なコスト内訳を取得",
      ar: "احصل على تفصيلات مفصلة للتكاليف من المبتدئين إلى الخبراء",
      hi: "शुरुआती से विशेषज्ञ स्तर तक विस्तृत लागत विवरण प्राप्त करें"
    },
    currency: {
      en: "Convert costs to your local currency with live exchange rates",
      es: "Convierte costos a tu moneda local con tipos de cambio en vivo",
      de: "Konvertieren Sie Kosten in Ihre lokale Währung mit Live-Wechselkursen",
      fr: "Convertissez les coûts dans votre devise locale avec des taux de change en direct",
      pt: "Converta custos para sua moeda local com taxas de câmbio ao vivo",
      ja: "ライブ為替レートで地域通貨にコストを換算",
      ar: "تحويل التكاليف إلى عملتك المحلية بأسعار صرف مباشرة",
      hi: "लाइव एक्सचेंज दरों के साथ अपनी स्थानीय मुद्रा में लागत परिवर्तित करें"
    },
    free: {
      en: "No hidden fees, subscriptions, or limits. Use forever free",
      es: "Sin tarifas ocultas, suscripciones o límites. Usa gratis para siempre",
      de: "Keine versteckten Gebühren, Abonnements oder Limits. Für immer kostenlos nutzen",
      fr: "Aucun frais caché, abonnement ou limite. Utilisez gratuitement pour toujours",
      pt: "Sem taxas ocultas, assinaturas ou limites. Use grátis para sempre",
      ja: "隠れた料金、サブスクリプション、制限なし。永続的に無料で使用",
      ar: "لا رسوم مخفية أو اشتراكات أو حدود. استخدم مجانًا إلى الأبد",
      hi: "कोई छुपी फीस, सब्सक्रिप्शन या सीमा नहीं। हमेशा के लिए मुफ्त उपयोग करें"
    }
  }
};

const getText = (key, currentLang) => translations[key]?.[currentLang] || translations[key]?.['en'];
const getFeatureText = (feature, key, currentLang) => translations.features[feature]?.[currentLang] || translations.features[feature]?.['en'];
const getFeatureDesc = (feature, currentLang) => translations.feature_descriptions[feature]?.[currentLang] || translations.feature_descriptions[feature]?.['en'];

// Get first 6 hobbies for clean layout
const featuredHobbies = hobbies.slice(0, 6);
---

<Layout 
  title={getText('title', lang)} 
  description={getText('description', lang)}
  lang={lang}
>
  <!-- SEO Meta Tags -->
  <meta name="keywords" content="hobby calculator, cost calculator, hobby costs, startup costs, hobby budget, free calculator" slot="head" />
  <meta name="author" content="HobbyCalc" slot="head" />
  <meta name="robots" content="index, follow" slot="head" />
  <link rel="canonical" href={`https://hobbycalc.com/${lang}`} slot="head" />
  
  <!-- Open Graph -->
  <meta property="og:title" content={getText('title', lang)} slot="head" />
  <meta property="og:description" content={getText('description', lang)} slot="head" />
  <meta property="og:type" content="website" slot="head" />
  <meta property="og:url" content={`https://hobbycalc.com/${lang}`} slot="head" />
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" slot="head" />
  <meta name="twitter:title" content={getText('title', lang)} slot="head" />
  <meta name="twitter:description" content={getText('description', lang)} slot="head" />

  <!-- Header with Navigation -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
    <nav class="container mx-auto px-6 py-4">
      <div class="flex justify-between items-center">
        <div class="flex items-center space-x-2">
          <span class="text-2xl">🧮</span>
          <span class="text-2xl font-bold text-indigo-600">HobbyCalc</span>
        </div>
        <div class="hidden md:flex space-x-6">
          <a href={`/${lang}`} class="text-gray-700 hover:text-indigo-600">{lang === 'en' ? 'Home' : 'Inicio'}</a>
          <a href={`/${lang}/about`} class="text-gray-700 hover:text-indigo-600">{lang === 'en' ? 'About' : 'Acerca'}</a>
          <a href={`/${lang}/contact`} class="text-gray-700 hover:text-indigo-600">{lang === 'en' ? 'Contact' : 'Contacto'}</a>
        </div>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-20">
    <div class="container mx-auto px-6 text-center">
      <h1 class="text-5xl font-bold mb-6">
        {getText('hero_title', lang)}
      </h1>
      <p class="text-xl mb-8 max-w-2xl mx-auto">
        {getText('hero_subtitle', lang)}
      </p>
      <a 
        href="#popular-hobbies" 
        class="inline-block bg-yellow-400 text-indigo-900 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-yellow-300 transition-colors"
      >
        {getText('explore_btn', lang)}
      </a>
    </div>
  </section>

  <!-- Features Section -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-6">
      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center p-6">
          <div class="text-4xl mb-4">💰</div>
          <h3 class="text-xl font-semibold mb-2">{getFeatureText('accurate', lang)}</h3>
          <p class="text-gray-600">{getFeatureDesc('accurate', lang)}</p>
        </div>
        <div class="text-center p-6">
          <div class="text-4xl mb-4">🌍</div>
          <h3 class="text-xl font-semibold mb-2">{getFeatureText('currency', lang)}</h3>
          <p class="text-gray-600">{getFeatureDesc('currency', lang)}</p>
        </div>
        <div class="text-center p-6">
          <div class="text-4xl mb-4">✨</div>
          <h3 class="text-xl font-semibold mb-2">{getFeatureText('free', lang)}</h3>
          <p class="text-gray-600">{getFeatureDesc('free', lang)}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Popular Hobbies Section -->
  <section id="popular-hobbies" class="py-16 bg-white">
    <div class="container mx-auto px-6">
      <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">
        {getText('popular_hobbies', lang)}
      </h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {featuredHobbies.map((hobby) => {
          const name = hobby.name?.[lang] || hobby.name?.['en'];
          const description = hobby.description?.[lang] || hobby.description?.['en'] || '';
          const beginnerCost = hobby.breakdown?.beginner?.costRangeUSD?.[0];
          
          if (!name) return null;
          
          return (
            <a 
              href={`/${lang}/hobbies/${hobby.id}`} 
              class="block bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow"
            >
              <div class="flex items-center justify-between mb-3">
                <span class="text-3xl">{hobby.emoji || '🎨'}</span>
                {beginnerCost && (
                  <span class="px-2 py-1 bg-green-100 text-green-800 text-sm rounded">
                    ${beginnerCost}+
                  </span>
                )}
              </div>
              <h3 class="text-lg font-semibold text-gray-800 mb-2">{name}</h3>
              <p class="text-gray-600 text-sm">{description}</p>
            </a>
          );
        })}
      </div>

      <div class="text-center mt-12">
        <a 
          href={`/${lang}/hobbies`}
          class="inline-block bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors"
        >
          {lang === 'en' ? `View All ${hobbies.length} Hobbies` : `Ver Todos los ${hobbies.length} Hobbies`}
        </a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-12">
    <div class="container mx-auto px-6">
      <div class="grid md:grid-cols-4 gap-8">
        <div>
          <div class="flex items-center space-x-2 mb-4">
            <span class="text-2xl">🧮</span>
            <span class="text-xl font-bold">HobbyCalc</span>
          </div>
          <p class="text-gray-400">
            {lang === 'en' 
              ? 'Free hobby cost calculator with currency conversion for 50+ hobbies.' 
              : 'Calculadora gratuita de costos de hobbies con conversión de moneda para 50+ hobbies.'
            }
          </p>
        </div>
        
        <div>
          <h4 class="font-semibold mb-4">
            {lang === 'en' ? 'Quick Links' : 'Enlaces Rápidos'}
          </h4>
          <ul class="space-y-2 text-gray-400">
            <li><a href={`/${lang}`} class="hover:text-white">{lang === 'en' ? 'Home' : 'Inicio'}</a></li>
            <li><a href={`/${lang}/hobbies`} class="hover:text-white">{lang === 'en' ? 'All Hobbies' : 'Todos los Hobbies'}</a></li>
            <li><a href={`/${lang}/about`} class="hover:text-white">{lang === 'en' ? 'About' : 'Acerca'}</a></li>
            <li><a href={`/${lang}/contact`} class="hover:text-white">{lang === 'en' ? 'Contact' : 'Contacto'}</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="font-semibold mb-4">
            {lang === 'en' ? 'Legal' : 'Legal'}
          </h4>
          <ul class="space-y-2 text-gray-400">
            <li><a href={`/${lang}/privacy`} class="hover:text-white">{lang === 'en' ? 'Privacy Policy' : 'Política de Privacidad'}</a></li>
            <li><a href={`/${lang}/terms`} class="hover:text-white">{lang === 'en' ? 'Terms of Service' : 'Términos de Servicio'}</a></li>
            <li><a href={`/${lang}/disclaimer`} class="hover:text-white">{lang === 'en' ? 'Disclaimer' : 'Descargo'}</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="font-semibold mb-4">
            {lang === 'en' ? 'Languages' : 'Idiomas'}
          </h4>
          <div class="grid grid-cols-2 gap-1 text-sm">
            <a href="/en" class="text-gray-400 hover:text-white">English</a>
            <a href="/es" class="text-gray-400 hover:text-white">Español</a>
            <a href="/de" class="text-gray-400 hover:text-white">Deutsch</a>
            <a href="/fr" class="text-gray-400 hover:text-white">Français</a>
            <a href="/pt" class="text-gray-400 hover:text-white">Português</a>
            <a href="/ja" class="text-gray-400 hover:text-white">日本語</a>
            <a href="/ar" class="text-gray-400 hover:text-white">العربية</a>
            <a href="/hi" class="text-gray-400 hover:text-white">हिन्दी</a>
          </div>
        </div>
      </div>
      
      <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
        <p>&copy; 2025 HobbyCalc. {lang === 'en' ? 'All rights reserved.' : 'Todos los derechos reservados.'}</p>
      </div>
    </div>
  </footer>
</Layout>

<!-- Structured Data for SEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "HobbyCalc - Hobby Cost Calculator",
  "description": "Free hobby cost calculator with currency conversion for 50+ hobbies including photography, gaming, cooking, and crafts.",
  "url": "https://hobbycalc.com",
  "applicationCategory": "FinanceApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "featureList": [
    "Cost calculation for 50+ hobbies",
    "Multi-currency support", 
    "Beginner to expert level breakdowns",
    "Real-time currency conversion",
    "8 language support"
  ],
  "author": {
    "@type": "Organization",
    "name": "HobbyCalc"
  }
}
</script>

<style>
/* Clean, simple styles for better performance */
.container {
  max-width: 1200px;
}

/* Smooth hover effects */
a {
  transition: color 0.2s ease;
}

.hover\:shadow-lg:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Responsive improvements */
@media (max-width: 768px) {
  .text-5xl {
    font-size: 2.5rem;
  }
  
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

/* Focus states for accessibility */
a:focus,
button:focus {
  outline: 2px solid #4F46E5;
  outline-offset: 2px;
}
</style>


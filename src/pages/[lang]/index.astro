---
import Layout from '../../layouts/Layout.astro';
import { hobbies } from '../../data/hobbies.json';

export function getStaticPaths() {
  const languages = ['en', 'es', 'de', 'fr', 'pt', 'ja', 'ar', 'hi'];
  return languages.map(lang => ({ params: { lang } }));
}

const { lang } = Astro.params;

const translations = {
  title: { en: "Hobby Cost Calculator | Find Your Next Passion", es: "Calculadora de Costos de Hobbies | Encuentra Tu PasiÃ³n", de: "Hobby-Kosten-Rechner | Finde deine Leidenschaft" },
  subtitle: { en: "Estimate startup costs for 50+ hobbies with our free calculator and currency conversion.", es: "Estima los costos iniciales para mÃ¡s de 50 pasatiempos con nuestra calculadora gratuita y conversiÃ³n de moneda.", de: "SchÃ¤tzen Sie die Anschaffungskosten fÃ¼r Ã¼ber 50 Hobbys mit unserem kostenlosen Rechner und WÃ¤hrungsumrechnung." },
  popular_hobbies: { en: "Popular Hobby Calculators", es: "Calculadoras de Hobbies Populares", de: "Beliebte Hobby-Rechner" },
  explore_btn: { en: "Explore Hobbies", es: "Explorar Hobbies", de: "Hobbys erkunden" }
};
// Add translations for fr, pt, ja, ar, hi as needed

const getText = (key, currentLang) => translations[key]?.[currentLang] || translations[key]?.['en'];
---
<Layout title={getText('title', lang)} lang={lang}>
  <div class="text-center p-12" style="background-color: #4f46e5;">
    <h1 class="text-5xl font-bold text-white">HobbyCalc</h1>
    <p class="py-6 text-lg text-indigo-200">{getText('subtitle', lang)}</p>
    <a href="#popular-hobbies" class="btn btn-warning">{getText('explore_btn', lang)}</a>
  </div>
  <div id="popular-hobbies" class="max-w-6xl mx-auto py-12 px-4">
    <h2 class="text-3xl font-bold text-center mb-8">{getText('popular_hobbies', lang)}</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      {hobbies.filter(h => h.name[lang]).map(hobby => (
        <a href={`/${lang}/hobbies/${hobby.id}`} class="card bg-white shadow-lg hover:shadow-2xl transition-shadow">
          <div class="card-body">
            <h3 class="card-title text-2xl">
              {hobby.emoji || 'ðŸŽ¨'} {hobby.name[lang]}
            </h3>
            <p>{hobby.description[lang]}</p>
            <div class="badge badge-outline mt-2">${hobby.breakdown.beginner.costRangeUSD[0]}+</div>
          </div>
        </a>
      ))}
    </div>
  </div>
</Layout>
